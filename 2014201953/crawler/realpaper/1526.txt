WRITING  A  NATURAL  LANGUAGE  DATA  BASE  SYSTEM* 

David  L.  Waltz  and  B r a d l ey  A.Goodman 

C o o r d i n a t ed  Science  L a b o r a t o ry 

U n i v e r s i ty  of 

I I ] i n o i s,  Urbana, 

I l l i n o is  61801 

A b s t r a ct 

l o(cid:173)
(b) 
tem(cid:173)
f i l l i ng 

f or  p r o c e s s i ng  E n g l i sh 
f r om  a 
r e l a t i o n al  d a ta 
i ts  main  s t e ps 

f or 

f r a m e s; 

We  p r e s e nt  a  model 
i n f o r m a t i on 
The  model  has  as 

t h e se  c o n s t i t u e n ts  a g a i n st 

t he  concept  case 
r e q u e s t, 

frame  u s i ng 
f r om 
responses 
(d)  g e n e r a t i ng  a 

r e q u e s ts 
b a s e. 
(a) 
c a t i ng  semantie  c o n s t i t u e n ts  of  a  r e q u e s t; 
l a r g er 
m a t c h i ng 
p l a t es  c a l l ed  concept  case 
(c) 
in 
t he  u s e r 's 
from 
the  u s e r 's 
t he  s y s t e m;  and 
query  u s i ng 
are  suggested 
such  a  n a t u r al 
a r b i t r a ry  r e l a t i o n al  d a ta  b a s e. 
been  a p p l i ed 
f l i g ht  and  maintenance  d a ta 
c a l l ed  PLANES;  examples  are  drawn 
s y s t e m. 

f or  c o n s t r u c t i ng 
language  p r o c e s s i ng  system 

t he  c o l l e c t ed 

to  a 

f r om 

from 
t he  d i a l o g ue  c o n t e xt  and 

i n f o r m a t i on 

to  q u e s t i o ns  posed  by 

f o r m al  d a ta  base 

i n f o r m a t i o n.  Methods 
t he  components  of 
f or  an 

The  model  has 

l a r ge  d a ta  base  of  a i r c r a ft 

to  g e n e r a te  a  system 

t h is 

1. 

I n t r o d u ct i on 

The 

f or  n a t u r al 

[ 9 , 1 8 - 2 1]  has  e v o l v ed  over 

language  p r o c e s s i ng  model 
language  access 

the  PLANES 
l a r ge 
t he  past 
it 
is  now 
to  b e g in  c o n s t r u c t i ng  such  systems 
i d e as  and  assumptions 

system 
d a ta  base 
y e a rs 
p r a c t i c al 
o t h er  data  b a s e s. 
the  model  are  d e s c r i b ed  b e l o w. 

to  a  p o i nt  where  we 

f or 
to  a 

f or 
in 

t h at 

f e el 

Key 

two 

The  model 

is  d e s i g n ed 

to  h a n d le 

r e q u e s ts  by 

in 

l a n(cid:173)

is  E n g l i s h,  b ut  who  have  some  knowledge  of 
the  d a ta  b a s e .t  We  have  assumed 

r e a l,  c a s u al  u s e r s,  whose  o n ly  programming 
guage 
the  m a t e r i al 
t h at  u s e rs  w i ll  ask  q u e s t i o ns  w h i ch  are  o f t en 
u n g r a m m a t i c a l,  w h i ch 
b o th  s t a n d a rd  and  n o n - s t a n d a r d,  and  w h i ch  use 
e l l i p s is 
to  be  u n d e r(cid:173)
stood 
M a l h o t ra 
u s e rs  are 

in  c o n t e x t)  and  pronouns  e x t e n s i v e l y. 

i n c l u de  many  a b b r e v i a t i o n s, 

i d e as  about 
to 
i n .) 

[13] 
f or 
l i k e ly 

( o m i s s i on  of 

i n f o r m a t i on 

t y p es  of 

(See 
t h i n gs 

t y pe 

the 

The  model 

is  d e s i g n ed 

to  work  w i th  a  r e l a(cid:173)

Data 

| 3 , 8 ], 
r e l a t i o ns  w h i ch  c o r r e s p o nd 

to 
in  c o n v e n t i o n al  d a ta  base 

is  viewed  as  b e i ng 

f i l es 
Each  r e l a t i on  c o n t a i ns  a  c o l l e c t i on  of 

t i o n al  model 
d i v i d ed 
i n to 
or  s e ts  of 
m i n o l o g y. 
t u p l es  which  c o r r e s p o nd 
c o n t a i ns  one  or  more  domains  or 
t i on  can  c o n v e n i e n t ly  be 

t u p le 
A  r e l a(cid:173)
t a b l e, 

t h o u g ht  of  as  a 

r e c o r d s;  each 

f i l es 
t e r(cid:173)

f i e l d s. 

to 

r e s e a r ch  d e s c r i b ed 

*Thc 
ed  by 
Number  N00014-75-C-0612. 

t h is  paper  was  s u p p o r t(cid:173)
t he  O f f i ce  of  Naval  Research  under  C o n t r a ct 

in 

t he  PLANES  s y s t e m s,  we  have  p r o v i d ed  e a s i ly 

f i l es 

to  b r i ng  a  u s er  w i t h o ut  d a ta 

to  a  p o i nt  where  he  can  use 

the 

t in 
a c c e s s i b le  HELP 
base  knowledge 
r e st  of 

t he  s y s t e m. 

two 

t h at 

i n d e-

reasons 

i s o l a t ed 

i m p o r t a nt 

T h is  means 

t he  user  and 
f r om 

t u p le  and  each  column  a 
f or 

There  are 
r e l a t i o n al  a p p r o a c h: 
r e l a t i o n al  approach  s t r e s s es  d a ta 

w i th  each  row  b e i ng  a 
d o m a i n. 
the 
u s i ng 
(1) 
The 
f r o nt  end 
pendence. 
programs  are  e f f e c t i v e ly 
t he  a c t u al 
d a ta  base  o r g a n i z a t i o n.  We  are  now  w o r k i ng  w i th 
o n ly  a  small  subset 
( a p p r o x i m a t e ly  10"  b i t s)  of  a 
( a p p r o x i m a t e ly  1011  b i t s ); 
much 
if  we  were 
f r o nt  end  w i th 
t he  e n t i r e-
d a ta  b a s e, 
have 
m o d e l,  changes  need  n ot  a f f e ct 
seen  by  u s e rs  and 
the  n a t u r al 
(2)  Many  d a ta  bases  arc  a l r e a dy 
i z ed 
f o r m,  and  are 
s u i t ed 
in 
t h is  paper  concerned  w i th  u p d a t i ng  and  n o r m a l i z a(cid:173)
t i on  a s p e c ts  of 

f r o nt  e n d. 
i n t e r n a l ly  o r g a n(cid:173)
t h us  n a t u r a l ly 
to  a  r e l a t i o n al  d a ta  m o d e l.  We  are  not 

l a r g er  database 
to  use  our 
the  d a ta  a c c e s s i ng  programs  would 

to  be  m o d i f i e d,  h u t,  u s i ng 

r e l a t i o n al 
" d a ta  m o d e l" 

the 
the 
language 

r e l a t i o n al  d a ta  b a s e s. 

t a b u l ar 

in  a 

the 

Most  of 

t he  examples  g i v en 

in 

t h is  paper  are 

t he  w o r ld  of 

from 
PLANES 

t he  PLANES  system 

[ 9 , 1 8-
is  a  w o r k i ng  system  which  o p e r a t es 
(Maintenance  and 

drawn 
2 1 j. 
on  a  d a ta  base  s u p p l i ed  by  3-M 
M a t e r i al  Management),  M e c h a n i c s b u r g,  PA. 
base 
nance  d a t a,  p l us  d a ta  summaries,  and 
by  m o n t h,  a i r c r a f t,  and 
t y pe  of  data 
m a i n t e n a n c e,  unscheduled  m a i n t e n a n c e, 
e t c . ). 

is  comprised  of  d e t a i l ed 

is  o r g a n i z ed 
(scheduled 
f l i g h t s, 

f l i g ht  and  m a i n t e(cid:173)

The  d a ta 

2. 

Key 

Ideas 

P r o b a b ly 

t he  most 

ideas  on  how 

to  g e n e r a te  each  component  of 
f or  a  n o v el  d a ta  b a s e.  We  have  a t t e m p t ed 

i m p o r t a nt  c o n t r i b u t i o ns  of 
t he  o v e r a ll  o r g a n i z a t i on  of  t he  m o d e l, 
the 
in 

our  work  are 
and 
model 
our  work 
s o l u t i o ns 
o p e r a t i ng  speed,  d i a l o g ue  and  p a r a p h r a se  g e n e r a(cid:173)
t i o n,  s p e l l i ng  c o r r e c t i on  and  e r r or 
b r o w s i ng  and  a n s w e r i ng  of  vague  q u e s t i o n s,  answer 
g e n e r a t i o n,  a u t o m a t ic  HELP 

to  many  p r a c t i c al  problems 

to  a t t a ck  on  a  b r o ad 

f i l e s,  e t c. 

r e c o v e r y, 

i n c l u d i ng 

f r o nt  and 

i n t e g r a te 

2 .1 

C e n t r al  Assumption 

is 

t he 

r e q u e st 

independent  of 

t h at  a  d a ta  base 

The  c e n t r al  n o v el  assumption  u n d e r l y i ng 
is  u n i q u e ly 

t he  s et  of  semantic  c o n s t i t u e n ts 
t he  c o n(cid:173)

model 
d e t e r m i n ed  by 
a  c l a u s e, 
s t i t u e n t s .#  We  need  o n ly  s u f f i c i e nt  g r a m m a t i c al 
c o r r e c t n e ss 
t he  phrase  b o u n d a r i es  of 
semantic  c o n s t i t u e n ts  and  c l a u se  b o u n d a r i es 
( if  a n y ). 
E n g l i s h, 

" p i d g in  E n g l i s h ,"  or  u n g r a m m a t i c al 

t he  modei  h a n d l es  g r a m m a t i c al 

t he  o r d er  of 

r e c o g n i ze 

l i s ts 

Thus 

to 

in 

i m p o r t a nt  e x c e p t i o n s, 

#  There  are 
p a r a t i ve  c o n s t r u c t i o ns  such  as 
have  more 
of 
i m p o r t a n t. 

" p l a ne  3"  and 

" p l a ne  2" 

f l i g h ts 

in 

t h an  p l a ne  2 . . . " w h e re 

t he  o r d er 

the  sentence 

is 

f or  example  com(cid:173)

" . . . d id  p l a ne  3 

N a t u r al 

L a n g u a g e - 8;  W a l tz 

of  semantic  c o n s t i t u e n ts  w i th  equal 
knowledge 
d a ta  q u e r i es 

t he  use  of  a  method  such  as 

is  o r i g i n al  w i th 

t h is 
t h is  p r o j e c t. 

e a s e.  To  our 

f or 

Given  our  c e n t r al  a s s u m p t i o n, 

t he  p r o c e s s i ng 

t he  semantic  c o n s t i t u e n t s,  e . g. 

i n v o l v es  p r i m a r i ly 

i d e n t i f y i ng 
( f or  our  d a ta 

t y p e,  s e r i al  numbers, 
Each  of 

these  semantic 

( i . e. 
the  name  of  a 
f i nd  v a l u e s ),  or  a 

f or  a  p a r t i c u l ar 

f i e ld  w h i ch 

is 

f or  w h i ch 

the  system 

t y p e s,  e t c. 

( i . e.  a  v a l ue 

time  p e r i o d,  p l a ne 

of  a  u s e r 's  query 
a ll 
base) 
maintenance 
c o n s t i t u e n ts  can  be  a  v a r i a b l e; 
f i e ld 
to 
c o n s t a nt 
a  d a ta 
( i . e.  a  s et  of  v a l u es  or 
in 
1973?"  p l a n es 
and  May  1973  are  c o n s t a n t s. 
v a r i a b le 
a  c o n s t a n t. 
s t i t u e n ts 
each  of  which 
f e r e nt  ways  of  e x p r e s s i ng  one 
c o n s t i t u e n t; 
t i me  p e r i o d,  p l a n e t y p e,  e t c. 

"sum  of 

t h u s, 

( e . g. 

i t em  must  s a t i s f y ),  or  a  s et  of  c o n s t a n ts 
Thus, 

range  of  v a l u e s ). 

"Which  p l a n es  had  engine  maintenance 

in  May 

is  a  v a r i a b le  and  eng i ne  ma i nt enanc e 

An  o p e r a t i on  on  a 

f l i g ht  h o u r s ") 

f u n c t i o ns  as 

The 

i d e n t i f i c a t i on  of  semantic  c o n(cid:173)
is  h a n d l ed  by  a  group  of  ATN  s u b n e t s, 
r e c o g n i z i ng  d i f -(cid:173)

" e x p e r t"  on 

is  an 

t h e re  are  subnet  e x p e r ts 

type  of  semantic-
f or 

to 
r e(cid:173)
form  an 
(a)  a 

2.2 

Concept  Case  Frames  and  Context  Regi  s t e rs 
A  second  major  set  of 

is  n e c e s s a ry 

i d e as 

f o l l o w i ng  p r o b l e m:  o f t en  a  u s e r 's 

the 

i n f o r m a t i on  necessary 

to 
T h is  can  happen  because! 

i n f o r m a t i on  meant 
is  c a l l ed  e l l i p s i s ), 

h a n d le 
quest  w i ll  omit 
adequate  q u e r y. 
leaves  out 
user 
in  c o n t e xt 
( t h is 
uses  a  pronoun 
( c)  a  user  s i m p ly  n e g l e c ts 
n e c e s s a ry 
w e-  u se  c o n t e xt 
case 
t h ey  s t o re  a ll  semantic  c o n s t i t u e n ts  of 
a l o ng  w i th  answers 
i n f o r m at  i  o n. 

r e g i s t e rs 
C o n t e xt 

i n f o r m a t i o n. 

i n c l u de  a ll 

f r a m e s. 

to 

To  h a n d le 
t o g e t h er  w i th  concept 

t h e se  s i t u a t i o ns 

r e g i s t e rs  are  h i s t o ry  k e e p e r s; 

r e q u e s ts 
to  e a r l i er  q u e s t i o ns  and  o t h er 

in  p l a ce  of  a  named  c o n s t i t u e n t,  or 

to  be  u n d e r s t o od 

(b)  a  user 

the' 

Each  concept  case 

frame 

is  a 

t e m p l a te 

r e p r e(cid:173)

t he  d a ta 

to  " b u i l d" 
" s l o t s" 
from 

the 

r e g i s t er  v a l u es 

f i ll 
(as  w i th  e l l i p s is  and  pronoun 

to 

r e q u e s t s,  w o r ld  know(cid:173)

the  s et  eif  semantic 
r e q u e st  does  not 
l o ok 

If 

in 

The 

t o o ls 

found 

f i l l i ng 

in  a  u s e r 's 

the  u s er 
is  more 

frame  e x a c t l y,  we  can 

t h r o u gh  p a st  c o n t e xt 

t e m p l a t es  are  used  as 

t he  mandatory 
i n f o r m a t i on  e x t r a c t ed 

s e n t i ng  a  whole  s e r i es  of  q u e s t i o ns  about 
b a s e. 
l e g al  query  by 
a 
of 
the 
t e m p l a te  w i th 
c u r r e nt 
r e q u e s t,  e a r l i er 
ledge  or  d e f a u lt  v a l u e s. 
c o n s t i t u e n ts 
match  a  concept  case 
back 
in  m i s s i ng  elements 
r e f e r e n c e ),  ask 
t h e re 
meaning 
f i l l i ng 
t he  concept  case 
t h an  one 
j o in 
necessary 
t h e re  are.  elements 
m a t c h i ng  any  s i n g le  concept  case 
c o n c e pt  case 
f or  HELP 
m a t i on 
o n ly  p l a ne  3 . " ),  or  n o te 
s p e c i al  p r o c e s s i n g,  as 
q u e s t i on  or  one 
good  way 
is 
r e l a t i o n. 

to  b e g in  e n u m e r a t i ng  c o n c e pt  case 

frames  a l so  c o r r e s p o nd 

( c o m b i n i ng  of  more 

r e q u i r i ng  a l e r t i ng 

t h at  d e c l a r a t i ve 

f i l e s,  or  n o te 

( f i e ld  names) 

t he  domains 

is  b e i ng 

l o ok  at 

i n p ut 

( e . g. 

if 
in 

t h at 

to 

in 

if 

t he  a p p r o p r i a te 

to  p i ck 
t h an  one  p o s s i b le  way  of 
t h at  a 
is 

f r a m e,  or  n o te 
r e l a t i o n) 
l e ft  over  a f t er 
f r a m e. 

C e r t a in 

"From  now  on  c o n s i d er 
r e q u i r es 

r e q u e st 

t he 

the  case  of  a  vague 
f u n c t i o n s. 

A 

frames 

f or  each 

to  r e q u e s ts 

i n f o r(cid:173)

2  .  3  Query  Ge  ne  r  a  t  or 

The 

t h i rd 

i m p o r t a nt  set  of 

w i th  query  g e n e r a t i o n. 
f o r m al  d a ta  base  query 
c on s t i  t ue n t s  whether  or  not  a  concept  case 
was  m a t c h e d. 

i d e as 

is  concerned 
The  system  can  g e n e r a te  a 
f r om 

the  set  of  semantic 

frame 

The 

f i r st  s t ep 

is 

to  d e c i de  what 

to  r e t u rn  as 

t h i s, 

O f t en 

" h i t s" 
the  query  g e n e r a t or 

to  s p e c i fy  what  p a t t e r ns 
To  do 

an  answer,  and 
must  s a t i s f y. 
f i r st  n o t es  which  c o n s t i t u e n ts  are  c o n s t a n ts  or 
s e ts  of  c o n s t a n ts  and  w h i ch  are  v a r i a b l es 
(see 
a b o v e ). 
t h e re  w i ll  be  o n ly  one  v a r i a b l e, 
denoted  by  a  q u e s t i on  word 
w h e r e,  e t c . );  a ll  v a r i a b l es  and  s e ts  of  const  a n ts 
must  be  p a rt  of 
and  s e ts  of  c o n s t a n ts  are 
i . e.  as 
items  or 
are 

f i e ld  v a l u es  a g a i n st  w h i ch 
" t u p l e s"  must  be  cemipared 

t r e a t ed  as  p r e d i c a t e s, 

t he  answer  r e t u r n e d. 

( e . g.  w h i c h,  when, 

i n d i v i d u al  d a ta 
to 

f i nd  which 

" h i t s ". 

The  c o n s t a n ts 

The  second  s t ep 

is 

to  d e c i de  which 

r e l a t i o ns 

to 

(as 

t y pe 

( e . g. 

t h e s e, 

f or  v a r i o us  p e r i o d s, 

r e f e r r ed 

There  are  a l so 

"Of 
Because 

to  d e t e r m i ne  when 

t e m p o r a ry  r e 1 a t i o ns 

f l i g h t-
to  summary 

f or  p l a n es  of  one  c l a ss 

f or  one  p a r t i c u l ar  p l a n e,  or 

There  are  about  600  r e l a t i o ns 

in  our 
to  one  m o n t h 's  d e(cid:173)

in 
folleow  up  q u e s t i o n s ). 

to  s e a r c h. 
d a ta  b a s e,  each  c o r r e s p o n d i ng 
t a i l ed  d a ta  of  a  p a r t i c u l ar 
h o u r s) 
d a ta 
and  so  o n. 
w h i ch  are  c r e a t ed  as  a  d i a l o g ue  p r o g r e s s e s,  and 
the  system  must  be  a b le 
these 
are  b e i ng 
. . ."  and 
o t h er 
summary  and  d e t a i l ed  d a t a,  and  s e v e r al 
d a ta 
g e n e r a t or  r e q u i r es  some  p r o c e s s i n g. 
g e n e r a t or 
f e r r ed 
hope 
If  no 
j o in 
r e q u i r ed  and  a d d i t i o n al  p r o c e s s i ng 
if  more 
r e m a i n s, 
r e l a t i on 
( e . g.  use  summary  d a ta 
can  o f t en  h e lp  s e l e ct  one 
r a t h er 
t h an  d e t a i l ed  d a ta 
if  e i t h er 
is  p o s s i b l e) 
or 
a l t e r n a t i v e s. 

the  user  can  be  o f f e r ed  a  c h o i ce  among 

t h at  o n ly  a  s i n g le 
r e l a t i o ns 
r e m a i n, 

to  by  each  semantic  c o n s t i t u e n t, 

r e l a t i on  w i ll 
t h en  a 

the  query 
The1  query 

r e l a t i o ns 
in 

r e m a i n. 
j o i n s) 

the?  d e c i s i on  of 

f or  each  p l a n e, 

t he  s e ts  of 

i n t e r s e c ts 

than  one 

t y p es  of 

(or 
is 
is  n e c e s s a r y; 
t h en  h e u r i s t i cs 

r e(cid:173)
the 

t h e re 

t he 

is  b o th 

As 

i ts 

t h i rd  s t e p, 

t he  query  g e n e r a t or  must 

to  s o rt 

t he  h i ts  when 

r e t r i e v e d. 

is  s p e c i f i ed 

t o t al  maintenance  h o u rs 

in  q u e r i es 

( e . g. 
f or  p l a ne  3  by 

it 

is  d e t e r m i n ed  by  a  h e u r i s t ic 

d e c i de  on  how 
Sometimes  s o r t i ng 
"Give  me' 
m o n t h ")  ;  o t h e r w i se 
p r i o r i ty  scheme. 

3.  Model  O p e r a t i on 

The  p r o c e s s i ng  of  a  u s e r 's 
f o ur  main  phases: 
p a r s i n g, 

i n to 
e v a l u a t i o n,  and  r e s p o n s e. 

r e q u e st 
i n t e r p r e t a t i o n, 

is  d i v i d ed 

(1) 

In 

the  p a r s i ng  phase,  a  set  of  semantic 

f e a t u r es  w i th  v a l u es 
r e q u e s t. 
As  p a rt  of 
and  e l l i p s is  are 
are  b r o k en  up 

is 
t h is  phase  pronoun  r e f e r e n ce 
r e s o l v e d,  and  complex  q u e s t i o ns 
i n to  a  sequence  of  s i m p le  q u e r i e s. 

the  u s e r 's 

formed 

from 

(2) 

In 

the 

i n t e r p r e t a t i on  phase, 

f e a t u re 
is 
' p r o g r a m ,'  c a l l ed  a  " d a ta  base 

the 
r e q u e st 

r e p r e s e n t a t i on  of 
i n to  a 

the  u s e r 's 

to  g e n e r a te 

the  d a ta 

to  answer 

the 

r e(cid:173)

and  v a l ue 
t r a n s l a t ed 
q u e r y ", 
q u e s t. 

N a t u r al 

Lanr;uaf:e-8:  Waltz 

145 

The  b u lk  of 
these 

f i r st 

t h is  paper 

is  devoted 

to  e x p l a i n(cid:173)

two  phases  of 

the  m o d e l 's  o p e r a(cid:173)

i ng 
t i o n. 

(3)  The  e v a l u a t i on  phase  uses 

g e n e r a t ed 
d a ta  base  and 

in 

t he  p r e v i o us  stage 

r e t u rn 

the  needed  d a t a. 

the  query 
t he 

to  search 

(4)  The  e v a l u a t i on  p o r t i on  passes 
response  g e n e r a t o r. 

the 

to 

s u l t i ng  d a ta 

the. 

r e(cid:173)

the  p r o c e s s, 

the 

r e s u l ts  are 

At  each  stage  of 
to  c o n t e xt 

r e l e v a nt 
i n f o r m a t i o n. 
r e s u l ts  of  each  stage 

r e g i s t e r s,  w h i ch  c o n s i st  of  a  s et 
These  s t a c ks 

sent 
of  s t a c ks  of 
c o n t a in 
t he 
r e q u e s t,  p a r a p h r a s e,  e t c . ),  s y n t a c t ic  components 
( e . g.  s u b j e c t,  o b j e c t,  e t c . ),  and  s e m a n t i c / c o n(cid:173)
t e x t u al 
e t c . ). 
l a t er 
phrases  d e l e t ed 
r e s p o n s e s. 

t i me  s p e c i f i c a t i o n, 
f or 

t h r o u gh  el l i ps i t ;,  and  g e n e r a t i ng 

( e . g. 
i n f o r m a t i on 

r e s o l v i ng  of  a n a p h o r ic 

i n f o r m a t i on 
T h is 

is  made  a v a i l a b le 

r e f e r e n c e,  s u p p l y i ng 

( e . g.  u s e r 's 

3 .1 

P a r s i ng 
The 

f i r st  phase, 

" p a r s i n g ,"  a c t u a l ly  c o v e rs 

s e v e r al  o p e r a t i o n s. 

i n c l u de 

These 
the 

( c o r r e c t i ng  s p e l l(cid:173)

i n p ut 

the  semantic  ATNs 
f i l l i ng 
in  c o n t e xt 

(a)  c l e a n i ng  up 
i n g,  s u b s t i t u t i ng  c a n o n i c al  words  and 
synonyms,  e t c . ); 
(b)  a p p l y i ng 
request  and 
v a l u es  ; 
(c ) b re a k in g up q u e s t i o ns w i th e nib e d d e d 
c l a u s es 
(d)  a p p l y i ng  concept  case 
q u e r i e s ," 
ence  and  q u e s t i o ns 
t i on  s e a r c h e s. 

r e s o l v i ng  e l l i p s i s,  pronoun 
i n v o l v i ng  m u l t i p le 

to 
r e g i s t e r-

two  or  more 

frames 

i n to 

the 

to 

" s i m p le  q u e r i e s "; 

" s i m p le 
r e f e r(cid:173)
r e l a(cid:173)

i n p ut 

These  o p e r a t i o ns  are  e x p l a i n ed 
in 

f o l l o w i ng  s e c t i o n s. 

in  more  d e(cid:173)

the 

t a il 
3.2  C l e a n i ng  Up 

I n p ut 

the 
f i r st  checks 
i n p ut 

The  p a r s er 
t he 

to  make  sure 

that 
the  s y s t e m. 

f or 

( e . g. 

is  known  by 

f or  U n i t ed  S t a t es  of 

i n f l e c t i on  markers  are  s u b s t i t u t ed 

"USA" 
i n p ut  word  cannot  be 

t he  s p e l l i ng  c o r r e c t i on 
f i nd 

each  word  of 
Roots  and 
f or 
i n f l e c t ed  w o r d s,  c a n o n i c al  words  are  s u b s t i t u t ed 
f or  synonyms,  and  s i n g le  words  are  s u b s t i t u t ed 
c e r t a in  phrases 
A m e r i c a " ). 
the  d i c t i o n a r y, 
in 
module 
is  c a l l e d. 
d i c t i o n a ry  e n t r i es 
methods  d e s c r i b ed 
d a t es 
is  c o r r e c t, 
m i s s p e l l ed  w o r d. 
if 
a  word  a d d i ng  module  can  be  c a l l ed 
t he  u s e r 's  word 
synonymous  word  or  phrase  a l r e a dy  known 
s y s t e m. 
i g n o re 

If  a  g i v en 
t h en 
T h is  module  a t t e m p ts 
" c l o s e" 
| 1 7 ]; 
in 
it 
is 
If  no  c a n d i d a t es  are 

the 
f o u n d,  or 
t he  suggested  c a n d i d a t e s, 
to  add 

f i n d i ng  a 
the 
to 

the  word  and  c o n t i n u e. 

to 
the  system 

to 
if  one  of 

The  user  can  a l so 

the  d i c t i o n a ry  by 

these  c a n d i(cid:173)

in  p l a ce  of 

r e j e c ts  a ll 

the  user 

i n s e r t ed 

t e ll 

the 

t ry 

to 

to 

to 

found 

i n p ut  word  u s i ng 

is  handled  by  s u b n e t s. 

Each  subnet 

is  an  ATN 

[23]  phrase  p a r s er 

in 

f or 

t y p e, 

t y p e, 

p l a ne 

the  subnet 

t he  PLANES  w o r ld 

t h e re  are  s u b n e ts 

Some  examples  of  phrases 
" t i me  p e r i o d"  would  match  a r e: 

time  p e r i o d,  m a l f u n c t i o n,  maintenance 

w h i ch  matches  o n ly  phrases  w i th  s p e c i f ic  m e a n i n g. 
For  example, 
f or  each  d i f f e r e nt  semantic  o b j e c t: 
d a t e, 
a i r c r a ft  component,  e t c. 
w i th 
"between  Jan  1  and  Feb  28  1 9 7 2 ,"  " 1 9 7 2 ,"  " d u r i ng 
February  and  M a r c h ," 
f i r st 
s ix  months  of  1 9 7 2 ."  Most  subnets  match  noun 
phrases  or  p r e p o s i t i o n al  p h r a s e s. 
t i on  of  subnets 
noun  phrase 
" r e s t ," 
by  a  s p e c i al  subnet  as  are  q u a l i f i e rs 
i t a l i c i z ed  words 
in  M a y " ). 
( e . g. 
e t c . ),  and 

"A7s  w h i ch  c r a s h ed 
f or  compounds 
" p l a ne  3  or  p l a ne  5 ," 

Q u a n t i f i e rs 
" l a r g e s t ,"  e t c .)  are  h a n d l ed 

the  phrase 
Subnets  a l so  check 

is  based  on  W i n o g r a d 's  a n a l y s is  of 

r e c o g n i ze  verb  p h r a s e s. 

" p l a n es  3  and  b ," 

The  c o n s t r u c(cid:173)

" t h e n ,"  and 

" f i r s t ," 

t h a n ," 

"more 

( e . g. 

( e . g. 

t he 

the 

" in 

in 

Subnets  are  a p p l i ed 

to 

the 

I n p ut 

r e q u e st  one 

i n f o r m a t i on  on 

is  saved  a l o ng  w i th 

the  next  p o r t i on  of 
t h is  phase, 

a f t er  a n o t h e r.  When  a  subnet  matches  a  p h r a s e, 
t h at  phrase 
w h i ch  subnet  matched 
to 
of 
subnet  and  e s s e n t i a l ly  d i s c a r d e d. 
r e f er 
l i ke 
t e ll  m e ,"  "would  you 
f i n d ,"  e t c. 

" p l e a se 
l et  me  k n o w ,"  " c o u ld  you 

i t,  and  a t t e n t i on 
the 

" n o i se  w o r d s"  are  matched  by  a 

" N o i se  w o r d s" 
"can  you 

is  s h i f t ed 
A l so  as  p a rt 

to  phrases 

t e ll  m e ," 

r e q u e s t. 

Whenever  subnets  match  a  p h r a s e, 

t h ey  s et 

the 

t he 

in  a 

to  s u p p ly 

r e q u e st  are  used 

r e q u e st  have  been 

the 
r e g i s t e rs 

r e f e r e nt  of  a  p r o n o u n. 

r e p l a c ed  by  p r o n o u n s,  c o n t e xt 

f or  pronoun  r e f e r e n ce  and  e l l i p s i s; 

r e g i s t e r,  w h i ch 
C o n t e xt  r e g i s t e rs  are; 
if  some 
l e ft  u n s p e c i f i ed 
r e g i s t er  v a l u es 

v a l ue  of  a  c o r r e s p o n d i ng  c o n t e xt 
a c ts  as  a  h i s t o ry  k e e p e r. 
used 
i t e m ( s) 
or 
f r om  p r e v i o us 
m i s s i ng 
i n f o r m a t i on  or 
There  are  a l so  c o n t e xt 
r e q u e s t, 
f o r m,  and 
implemented  as  stacks;  which  are  pushed  down  w i th 
c o n t e xt  c o u ld 
each  new  r e q u e s t. 
Thus  an  e a r l i er 
from  a  user  s t a t e m e nt 
be 
r e t r i e v ed 
l i ke 
ago  we  were 
t a l k i ng  about  s k y h a w k s ,"  by 
back 
c o n t e xt 
f o u n d,  and 
r e g i s t er  v a l u es  c u r r e nt  at 

"A  w h i le 
l o o k i ng 
r e g i s t e rs  u n t il  a  p l a n e t y pe 

t he 
l a st 
language 
r e g i s t e rs  are 

r e g i s t er  v a l ue  e q u al 

f or 
l a st  query 

the  o t h er  c o n t e xt 

l a st  p a r a p h r a s e, 

t h r o u gh  c o n t e xt 

"skyhawk"  was 

r e s t o r i ng  a ll 

l a st  answer. 

Context 

t i m e. 

t h en 

t h at 

to 

in 

At 

l i st  of 

the  end  of 

the  phrases 

t h is  phase  we  arc 

l e ft  w i th  a 
the  semantic  c o n t e n ts 
t he 

Unless  c e r t a in  c o n(cid:173)
" . . . g r e a t er 

r e p r e s e n t a t i o ns  of 

t he  sentence  and  a 

the  c o n s t i t u e n t s. 
(such  as  c o m p a r a t i v e s,  e . g. 

s et  of 
of 
o r d er  of 
s t r u c ts 
t h a n . . . ,"  or  embedded  q u a n t i f i ed  c l a u s e s)  are 
i g n o r e d. 
p r e s e n t, 
T h is  means 
" p i d g in 
E n g l i s h" 
f r om 
s o rt  of  p r o c e s s i n g,  pronoun 
t a s k. 
become  a 
of  a  pronoun  does  n ot 
in 
a  p a r t i c u l ar  semantic  c a t e g o r y. 

r e p r e s e n t ed 
t h is  p o i nt  of  p r o c e s s i ng  onward. 

is 
t h at  p a s s i v e,  a c t i v e , a nd 

r e l a t i v e ly  d i f f i c u lt 
r e s u lt 

r e q u e s ts  are  a ll 

The  p a r s i ng 
to 
E l l i p s is  may  be 

i d e n t i c a l ly 
Given 
t h is 

i ts  a t t a c h m e nt 

the  o r d er  of 

the  phrases 

r e f e r e n ce  and  e l l i p s is 

3.3  A p p l y i ng  Semantic  ATNs 

T h is  s e c t i on 
the  h e a rt  of 

t o g e t h er  w i th 
t he 

c r i be 
p r o c e s s. 
It 
e l l i p s is  are 
the  o v e r a ll  programming  e f f o rt 
been  expended. 

is  h e re 
r e s o l v e d,  and  h e re 

The  p r o c e s s i ng 

t h at  pronoun 

t oo 
f or 
in 

t he  n e xt 

two  d e s(cid:173)

language  u n d e r s t a n d i ng 

r e f e r e n ce  and 
t h at  much  of 

t he  system  has 
t h is  p o r t i on 
N a t u r al 

Lang 
uage  -8:  W a l tz 
1 

t a k i ng  p l a ce  but 
h a n d l i ng  of 
s e c t i o n. 

t h e se 

it 

is  h a rd 

to  be  s u r e ."  Our 

i s s u es 

is  d e s c r i b ed 

in 

the  n e xt 

S p e c i f ic  s u b n e ts 

r e c o g n i ze 

r e q u e s ts 

f or  HELP 

i n f o r m a t i o n,  and  draw  HELP 

f i l es 

in  d i r e c t l y. 

Embedded  c l a u s es  are  h a n d l ed  by  s u b n e t s; 

in  s e c t i on 

3.9  b e l o w. 

is  d e s c r i b ed 
t h is  p r o c e ss 
3 .4  Concept  Case  Frames 

t he 

| 2 ]; 

frames 

the  act 

( r e f e r r ed 

frames  are 

Concept  case 

t he  v e r b)  and  a 

to  by  s u b n e t / c o n t e xt 

frames  enumerate 
t he  system 

Our  concept  case 
t h an  o r d i n a ry  case 
frame  c o n s i s ts  of 
to 

the  p a t t e r ns  of 
q u e s t i o ns  u n d e r s t o od  by 
(and  can  a l so 
a s s o c i a te  d a ta  base  query  s k e l e t o ns  w i th  q u e s t i on 
t y p es  w h i ch  cannot  be  p r o p e r ly  h a n d l ed  by 
query  g e n e r a t o r ). 
somewhat  d i f f e r e nt 
each  c o n c e pt  case 
( t y p i c a l ly 
r e l a t ed 
noun  phrases 
r e g i s t er  name)  which  can  occur  m e a n i n g f u l ly  w i th 
the  a c t. 
f r a m e s,  we  do  n ot 
s t o re 
p a t i e n t, 
p h r a s e s,  and  each  a ct  c o v e rs  a  number  of  r e l a t ed 
v e r bs 
the  same  a c t ). 
f r a m e,  such  as 
in  every  concept  case 
p e r i o d ,"  are  o m i t t ed 
from 
s e n t a t i on  of  concept  case 
subnets  and  concept  case 
to 
grammar"  v e ry  s i m i l ar 

" r e c o r d"  map 
Phrases  which  would  have 

the 
f r a m e s. 
frames 
t h at  used 

t he 
" s e m a n t ic 
[ ' l ]. 

i n s t r u m e n t)  p l a y ed  by 

U n l i ke  o r d i n a ry  case 

r e p r e(cid:173)
T o g e t h e r, 

i n f o r m a t i on  about 

" f l y ,"  " l o g"  and 

i n to 
to  o c c ur 

( e . g.  a g e n t, 

the  v a r i o us 

in  SOPHIE 

i n t e r n al 

f o rm  a 

l i st  of 

" t i me 

( e . g. 

r o le 

the 

Whenever  c o n s t i t u e n ts  of  a  sentence 

are 

r e p l a c ed  by  pronouns 

is  a b le 

to 

is  n e c e s s a ry 

to  com(cid:173)
the  concept  case 
If 

the  s e n t e n c e. 

(as 

the 

r e st  of 

t he  model 

f i n d i ng  a ll 

the  concept  by 

in  e l l i p s i s)  or 

t y pe  of  phra.se 

r e f e r e n t i al  p h r a s e s, 

m i s s i ng 
or 
suggest  what 
p l e te 
frames  w h i ch  match 
o n ly  one  concept  case 
if  more 
t h an  one  matches, 
c o n s t i t u e n ts  were  p r e s e nt 
t e n ce 
is  u s u a l ly  adequate 
d a t e s;  o t h e r w i s e, 
p o s s i b i l i t i es 
r e f e r e n ts 
system  can  guess 
m a l f u n c t i o ns 
are  m e a n i n g l e ss  because  a ll  phrases  are 
n i z ed  but  no  m a t c h i ng  concept  case 

the  user  can  be  g i v en 

f or  each  p h r a s e. 

t h at  sentences 

logged  more 

f r om  w h i ch 

to  choose 

t h an  10 

l i ke 

frame  m a t c h e s,  we  are  d o n e; 
to  w h i ch 

then 
in 
to  d e c i de  among  c a n d i(cid:173)

the  p r e v i o us  s e n(cid:173)

r e f e r e n ce 

the  s et  of 
the  a p p r o p r i a te 

F u r t h e r m o r e, 

the 

"How  many 
f l i g ht  h o u r s" 
r e c o g(cid:173)

frame  e x i s t s. 

More  s p e c i f i c a l l y, 

the  m a t c h i ng 
t he  best  concept  case 
t h at  matches 

A f t er 
l o n g e st  one 

f o l l o w s. 
t he 
c a t e g o r i es  of 
in 
many  s l o ts 
f i l l ed 
i n,  pronoun 
r e f e r e n ce  and  e l l i p s is  must  be  r e(cid:173)
s o l v e d. 
pronouns  o c c u r,  e v e r y t h i ng 

the  p h r a s e s)  has  been  chosen  and  as 
t he 

If  a ll  mandatory  s l o ts  are 

t e m p l a te  as  p o s s i b le 

the  most  semantic-

is  done  as 
frame 

f i l l ed  and  no 

is  a l r e a dy 

r e s o l v e d. 

( i . e. 

it 

is 

*0ne  c l ue 
f or  e l l i p s is 
f o l l o w ed  by  an  a c t i o n. 
t h at 
n o r m a l ly  e x p e c t ed 
The  p r o b a b le  e l l i p s is  can  be 
t h er 

i n v e s t i g a t i on  can  be 

is  o c c u r r i n g - - n a m e ly 

in 

f i n d i ng  a  q u e s t i on  word 
i n d i c a t es 

T h is  sometimes 

t he  noun  phrase 

t h at  p o s i t i on 

is  m i s s i n g. 

tagged  so 

t h at 

f u r(cid:173)

t a k en  on 

l a t e r. 

it 

If 

If 

f or  e a r l i er  s e n t e n c e s. 
t i m e, 

t he  same 

the 

t he 

in  a 

f i l ls 

i t e ms 

t h r o u gh 

f or 
t h at 

Pronouns 

l e ft  over 

t h at  same 

them. 
f it 

the  pronoun 

it  s h o u ld  go 

r e p l a c ed  w i th 

is  put  because 

r e g i s t er  v a l u es 

to  d e c i de  which  of 

in  an  o p t i o n al  s l o t, 

r e s o l v ed  by  n o t i ng  which  semantic 

t a sk  becomes  more  d i f f i c u lt  because 

f i ll 
Should  o p t i o n al  s l o ts  be 

two  or 
i n t o. 
frame 
it  makes  no  d i f f e r(cid:173)

the  system 
in  any  o t h er  empty  s l o ts  b e f o re 
i n c l u d e d, 
the  p r o(cid:173)

r e q u i r ed  s l ot  or  an  o p t i o n al 
the-

Pronouns  are 
c a t e g o ry  s l o ts  are 
can  be 
semantic  c a t e g o ry  by  s c a n n i ng  backwards 
t he  c o n t e xt 
When  e l l i p s is  and  pronouns  occur  at 
i m p o s s i b le 
it  may  be 
more  s l o ts 
to  p ut  a  pronoun 
c o n t a i ns  no  o p t i o n al  s l o t s, 
ence  where 
w i ll  have 
to 
p r o c e e d i n g. 
the 
noun  may  go 
s l o t. 
e l l i p s is  must  be  o c c u r r i ng 
If 
or  may  not  be  o c c u r r i ng 
The  second  case 
we  must  know 
to  e x t r a ct 
the 
r e s o l ve 
o c c u r r i n g,  and  s c a n n i ng 
past  q u e r i es 
the  c o n t e xt  b u i lt  up  c o n f i r ms  our  h y(cid:173)
to  see 
if 
p o t h e s is 
( i . e.  see 
f i ll 
the  o p t i o n al  s l o t ). 
c a t e g o ry  of 
and 
the  s l ot  w i th 
the 
f a i l s,  we  can  ask 
p r i a te 
p o t h e s e s. 
s m a ll  set  of  p o s s i b i l i t i es 
f or 

t h is  p r o b l em  by  assuming 
the  very 

f r om  among  a  set  of  h y(cid:173)
from  among  a 

the  q u e r y.  We 
t h at  e l l i p s is 
recent  set  of 

t he  h y p o t h e s is  d r o p p e d.  Otherwise  we 

the 
t h en  e l l i p s is  may 

if  e l l i p s is 
f u ll  meaning  of 

t h at  causes  a  p r o b l e m-
to  be  a b le 

If  n o t h i ng 
t he  e l l i p s is 

is  o v e r r u l ed 
f i ll 

i n f o r m a t i on 
the  user 

is  s t i ll  much  s i m p l er 

the  o p t i o n al  s l o t. 

in 
If  a ll  e l se 

f o u n d. 
to  s e l e ct 

f or 
t he  one 

i n t e r p r e t a t i on 

two  s e n t e n c e s) 

r e q u i r ed  s l o t, 

r e q u i r ed  s l o t. 

f i nd  a n y t h i ng 

the  semantic 

r e p h r a s i n g !) 

is  o c c u r r i ng 

l a st  one  or 

(Being  a b le 

t he  a p p r o(cid:173)

to  choose 

the  s l o t, 

t he  user 

if  can 

t h an 

(say 

f i ts 

the 

f or 

to 

is 

is 

is  a 

l i t t le  e a s i er 

to  h a n d l e. 

E l l i p s is  alone 
t i me 

to 

f i ll 

the  user 

f or 
f i nd 

the  s l o t s. 

is  m i s s i ng 

i n f o r m a t i on 

t h at  e l l i p s is 

is  o c c u r r i n g. 

to 
i n f o r m a t i on 

f r om  r e q u i r ed 
The 
i n f o r(cid:173)

Any 
s l o ts  we  know 
past  q u e r i es  can  be  scanned  backwards 
m a t i on 
If  we  do  not 
enough 
ask 
e 1 1 i p s is  of  o p ti ona1  s l o ts 
use  a  set  of  h e u r i s t i cs 
o m i s s i on  of  a  phrase  has  o c c u r r e d. 
mentioned  an  example  of  such  a  h e u r i s t i c - n a m e ly 
f o l l o w ed  by  a  v e rb  o t h er 
f i n d i ng  a  q u e s t i on  word 
t h an 
i n t e r v e n i ng  noun 
phrase-. 

the  s l o ts  we  can 
i n f o r m a t i o n.  When 
is  o c c u r r i n g,  we  must 

t h at 
E a r l i er  we 

to  g i ve  us  a  c l ue 

to  be  w i t h o ut  any 

f i ll  a ll 
r e q u i r ed 

the  verb 

the 

f or 

the 

3.5  C o n s t r u c t i on  of  a  Query 

The 

f i l l e d - in  concept  case 

frame 

is  next 

f o r m al  query  e x p r e s s i on 
The 

f or  use 
t r a n s(cid:173)

r e l a t i o n al  d a ta  base  s y s t e m .t 
i n v o l v e s: 
t he 

r e l a t i o ns 

i n to  a 

t r a n s l a t ed 
w i th  a 
l a t i on 
(1)  s e l e c t i ng 
look  at 
to 
necessary 
(2)  d e c i d i ng  what  domains 
f r om 
g e n e r a l,  more 

in  o r d er 
f or  a n s w e r i ng 

f i e l ds  are 

the 

to 

r e t r i e ve 

the 
the  u s e r 's 

r e l a t i o ns  which  are  s e a r c h e d. 

( d a ta 

f i e l d s) 

i n f o r m a t i on 
r e q u e s t; 
to 
( In 

r e t u rn 

( f i l es  and  c a rd 

t y p e s) 

r e t u r n ed 

t h an  are  a c t u a l ly 

+  W h i le  we  have  not  done  s o, 
to  w r i te  s i m i l ar  query  g e n e r a t o rs 
m o d e l s. 

it  s h o u ld  be  p o s s i b le 

f or  o t h er  d a ta 

N a t u r al  L a n g u a g e - 8:  W a l tz 

U7 

for  the  exact  type  of  maintenance.); 

f o r. 

f i e ld  value 

For  example, 

if  asked  about  which 

( l i ke  "number  of  hours 

asked 
planes  had  engine  maintenance  during  some  time 
period,  PLANES  returns  not  only  the  plane  i d e n t i(cid:173)
f i c a t i on  numbers,  but  also  the  dates  of  mainten(cid:173)
ance  and  codes 
(3)  deciding  how  to  arrange  the  output  data. 
Typical  orderings  are  by  increasing  or  decreasing 
size  of  some 
down  time")  or  sequentially  by  date.  Other  more 
complex  orderings  may  be  specified  by  the  user 
( e . g.  " L i st  maintenances 
(4)  deciding  which  operations  should  be  performed 
on  the  f i e l ds  returned.  Examples  of  operations 
include 
l a r g e s t; 
(5) 
plane 
codes. 
(6)  Most 
i n to  an  expression  in  the  r e l a t i o n al  calculus 
5,8]  which  can  be  used  to  implement  the  actual 
data  base  search. 

l i s t,  count,  average,  sum,  and  find 

t h is  material 
[4, 

important,  organizing  a ll 

t r a n s l a t i ng  f i e ld  values 

for  plane  5  by  month.); 

i n to  i n t e r n al  data  base 

types,  or  actions) 

for  dates, 

(e.g. 

in 

(b) 

(a) 

flew 

involves 

i n s e r t i ng  it 

than  10  times?"), 

The  general  process  was  described  b r i e f ly 
For  a  simple  query  (one  involving 
l i s t i ng  by  special  group(cid:173)

Section  2.2. 
no  j o i n s,  comparatives, 
ing  (e.g.  by  month,  plane  s e r i al  number,  repair 
l o c a t i o n,  e t c . ),  and  no  special  q u a n t i f i c a t i o n .) 
t h is  process 
f i n d i ng  the  question 
phrase (s) 
( e . g.  which  planes  in  "which  planes 
more 
in  the 
answer  s l ot  of  the  general  query  skeleton,' 
(c) 
i n t e r p r e t i ng  other  semantic  phrases  and  values 
(constants  and  sets  of  constants)  as  predicates, 
(d) 
(e.g. 
adding  (GT  FLIGHTS  10.) 
given  the  question  above), 
answer-description  p o r t i on  of 
other 
f i e ld  values,  using  both  h e u r i s t ic  knowledge 
about  meaningful  answer  forms  and  any  special  user 
i n s t r u c t i o ns 
and 
( f)  deciding  upon  and  f i l l i ng  in  a  answer 
sort  s p e c i f i c a t i on  ( e . g.  by  increasing  s e r i al 
number, 
p o r t i on  of  the  plane  repaired,  e t c . ). 

in  time  sequence,  by  groups  according  to 

in  the  general  skeleton 

l i st  of  predicates, 

(e)  completing  the 

the  skeleton  w i th 

" L i s t . . . ",  e t c . ), 

i n s e r t i ng  these 

" P l o t . . . ", 

to  the 

(e.g. 

The  query  construction  is  more  complex  for 

(e.g. 

(e.g.  "Did  plane  5 

q u a n t i f i ed  expressions 
"Find  a ll  repairs 
the  5  planes  w i th  the  most  f l i g ht  hours),  com(cid:173)
paratives 
than  plane  3 ? " ),  questions  w i th  embedded  clauses 
( e . g.  "Which  planes  that  crashed  in  May  had  engine 
maintenance 
special  operations 
most  hours 

in  A p r il  ?")  and  requests 
'Vhich  plane 

log  more  f l i g ht  hours 

involving 
flew  the 

in  May?"). 

(e.g. 

for 

Of  p a r t i c u l ar  i n t e r e st 

is  the  method  by  which 
r e l a t i o ns  to  be  searched  are  selected.  The  system 
looks  at  each  phrase  separately,  and  notes  which 
r e l a t i o ns  the  phrase  could  possibly  belong  t o. 
Some  phrases 

( l i ke  plane  type  and  date)  are  not 

*The  general  query  skeleton  consists  of  an  ordered 
set  of  s l o ts 
v a r i a b l e s,  answer  format,  predicates  to  be  s a t i s(cid:173)
f i ed  by  " h i t s ,"  and  an  answer  sort  s p e c i f i c a t i o n. 

f or  q u a n t i f i c a t i o n, 

l o c a l ly  bound 

in 

for 

for 

the 

( l i ke 

they  appear 

then  the  request 

t h is  process,  since 

f l i g h t h o u r s) 
A ll  the 
for  a  clause  are  then  i n t e r(cid:173)

then  considered  in  p a i r s, 
If  more  than  one  r e l a t i on  or  a  set  of 
is  ambiguous, 
is  necessary  to 
If  no  r e l a t i o ns 

very  useful 
most  r e l a t i o n s,  but  others 
appear  in  only  one  or  two  r e l a t i o n s. 
r e l a t i o ns  possible 
sected,  and  if  a  single  r e l a t i on  is  selected, 
process  of  selecting  a  r e l a t i on  is  complete 
the  phrase.  Clauses  are 
and  so  on. 
r e l a t i o ns  remains, 
and  p r i o r i ty  scheme  or  a  dialogue 
select 
the  appropriate  r e l a t i o n. 
remain  at  any  i n t e r s e c t i on  step, 
then  more  than 
one  r e l a t i on  must  be  searched  to  answer  the  r e(cid:173)
quest,  and  the  r e s u l ts  of  these  searches  must 
then  be  combined  via  the  r e l a t i o n al  operation 
called  Joining 
(constructing  a  single  r e l a t i on 
from  two  d i f f e r e nt  r e l a t i o n s ).  As  an  example, 
the  request: 
"Find  a ll  planes  which  had  engine 
maintenances  on  the  same  day  as  a  f l i g h t"  would 
require  searching  the  maintenance  and 
then  j o i n i ng  these  r e l a t i o ns  via 
r e l a t i o n s,  and 
the  date  and  plane  domains  by  i n t e r s e c t i ng  the 
sets  of  tuples 
r e t a i n i ng  tuples  with 

i d e n t i c al  planes  and  dates. 

for  maintenance  and 

f l i g ht  and 

f l i g ht 

3.6  Constructing  a  Paraphrase 

An 

important  part  of  any  query  system's 

the  request,  with  pronoun  r e f e r(cid:173)

is  allowing  a  user  to  v e r i fy  whether  or 

the  system  has  c o r r e c t ly  understood  his  r e(cid:173)
the.  system  feeds  back  i ts 

operation 
not 
quest.  To  t h is  end, 
understanding  of 
ence  and  e l l i p s is  resolved, 
approval. 
constructed 
information  associated  w i th  the  matched  concept 
case 
language  skeletons,  c a l ls  to  HELP  f i l e s,  and 
special  functions,  such  as  s t a t i s t i c al  comparison 
functions,  needed  to  answer  complex  questions. 

The  paraphrase 
from  the  formal  query,  and  any  special 

"Special  information"  includes  query 

is  s t r a i g ht forwardly 

for  the  user's 

frame. 

If  the  user  does  not  approve  of 

the 

i n t e r(cid:173)

( t h is 

the  system 

(for  a  previously  specified 

p r e t a t i on  of  his  request,  he  can  enter  i n to  a 
c l a r i f y i ng  dialogue  with 
[ 6 ],  The 
system  asks  whether  the  user  wants  t h is  query 
executed  on  the  data  base, 
if  he  wishes  to  con(cid:173)
tinue  w i th  the  current  sentence  as  context 
is  useful 
for  correcting  minor  e r r o r s,  e . g. 
typing  the  wrong  year),  or  with  the  previous 
sentence  as  context.  As  a  simple  example,  suppose 
a  user  wanted  data 
question) 
typed  "January  1973"  instead. 
correct  t h is  by  typing  " n"  when  asked  by  the 
system  "Shall  I  execute  t h is  query  on  the  data 
base...y  or  n?",  and  then  simply  typing  "1972". 
The  system  w i ll  recognize  t h is  as  a  year,  s u b s t i(cid:173)
tute 
for  1973,  and  the  user  can  then  have  the 
corrected  query  executed.  C l e a r l y,  minimum  typing 
and  no  remembering  of  special  commands 
is  required 
for 
3.7  Retrieving  the  Data 

(using  e l l i p s i s) 
It 

t h is  sort  of  error  c o r r e c t i o n. 

for  January  1972,  but 

is  simple  to 

it 

The  query  expression  generated  is  expressed 
[ 4 ],  as  implemented 

in  the  data  sublanguage  ALPHA 
in  LISP  by  Green 
[ 1 0 ].  This  expression  is  used 
by  the  r e l a t i o n al  data  base  system  to  construct 
the  actual  program  which  r e t r i e v es  the  data. 
In 
order  to  construct  the  search  program, 

the  system 

Natural  Lan&uaKe-8:  Waltz 

1U8 

f i l e s; 

to  be  searched; 
for  searching  these 

must  : 
(1)  select  the  f i l es 
(2)  select  an  order 
(3)  generate  an  expression  for  t e s t i ng  and  select(cid:173)
ing  tuples  values  to  r e t u rn  while  searching; 
(4)  generate  a  program  to  combine  data,  possibly 
from  a  number  of  d i f f e r e nt  r e l a t i o n s,  so  that 
the 
proper  answer  w i ll  be  returned. 
(5)  decide  when  to  save  the  r e s u l ts  of  a  search 
in  i n t e r a c t i ve 
for 
querying,  since  i n t e r e s t i ng  r e s u l ts  can  be  expect(cid:173)
ed  to  evoke  follow-up  queries  from  a  user,  and 
such  queries  are 
r e t r i e v e d. 
3.8  Generating  an  Answer 

l i k e ly  to  reference  tuples 

future  use. 

important 

This 

j u st 

is 

for  the  data. 

items  returned 

it  attempts 
if 

Once  the  data  has  been  r e t r i e v e d, 

(2)  one  item  is  numerical, 
is  small  enough 

If 
to  produce  a  graph. 
This 
(1)  pairs  of  items  are  r e(cid:173)

the  r e s u l ts 
are  passed  to  the  output  module,  which  decides  on 
an  appropriate,  display  format 
possible 
can  only  be  done 
turned, 
of 
small) 
f it  on  a  CRT  screen. 
the  system  w i ll  produce  a 
is  too  much  data  to  f it  on  the  screen, 
w i ll  be  automatically  output  to  the 
3.9  Embedded  Clauses 

If  a  graph  is  not  possible, 
if  there 
the  r e s u l ts 
l i ne  p r i n t e r. 

too 
to  produce  a  reasonable  graph  which  w i ll 

(3) 
(but  not 

the  number 

l i st  or 

t a b l e; 

Qualifying  phrases  or  q u a l i f i e rs 

(see 

[22]  ),constitute 

the  most  common  type  of 
the 
in  May," 

Winograd 
dependent  clause.  Examples  of  q u a l i f i e rs  are 
underlined  parts  of  "planes  which  crashed 
"maintenance  performed  on  A7s,"  and  "planes  w i th 
poor  maintenance  records."  Q u a l i f i e rs  appear 
a f t er  the  main  noun  in  a  noun  phrase,  and  are 
often  introduced  by  r e l a t i ve  pronouns  such  as 
"which"  or  " t h a t ",  or  by  verb 
forms  ending  in  -ed 
or  - i n g.  Prepositional  phrases  can  also  serve  as 
q u a l i f i e r s. 

is 

to 

[24]) 

f a i r ly  r e s t r i c t i v e, 

the  p o r t i on  of  a  request 

Q u a l i f i e rs  can  be  found  by  applying  a  q u a l i(cid:173)
f o l l o w i ng 

f i nd 
if  a  q u a l i f i er 
i ts  boundaries  are. 
is  not  grammatical, 

invoked 
to 
if  so  what 
If  the  embedded  clause 

If  a  q u a l i f y i ng  phrase  or  clause  may 
the  f o l l o w i ng  actions  are  taken: 

f i er  subnet 
the  main  noun  of  a  noun  phrase.  Because  q u a l i(cid:173)
f i er  syntax 
in  many  cases 
merely  examining  the  single  word  a f t er  the  main 
noun  may  s u f f i ce 
to  preclude  the  presence  of  a 
q u a l i f i e r. 
be  present, 
(1)  A  syntactic  parser  (based  on  Woods'  LSNL1S 
parser 
is 
is  present,  and 
(2) 
h e u r i s t i cs  are 
clause. 
(3)  Once  a  q u a l i f i er  is 
processing  is  suspended  on  the  current  clause,  and 
the  current  context  r e g i s t er  values  are  pushed 
down. 
(4)  The  main  noun  from  outside  the  q u a l i f y i ng 
the  r e l a t i ve  pronoun 
phrase 
( if  any)  or  is 
in 
the  q u a l i f i e r. 
(5)  The  q u a l i f y i ng  phrase  or  clause 
l i ke  a  normal  request,  w i th  the  main  noun  from  the 
clause  above  serving  the  role  of  the  requested 
item.  Note  that  verb  forms  get  changed  to  a  root 

inserted  as  a  phrase  element 

found  to  be  present, 

is  substituted 

is  processed 

to  attempt 

to  bracket 

invoked 

the 

for 

for  example, 

"planes  w i th  poor  maintenance 

plus  an  i n f l e c t i o n,  so  that  the  exact  verb  form 
does  not  a f f e ct  t h is  processing.  Prepositions  as 
well  as  verbs  can  r e f er  to  c e r t a in  case  frames,  so 
t h a t, 
records"  has  the  same  meaning  to  the  system  as 
"planes  having  poor  maintenance  records." 
(6)  The  query  corresponding  to  the.  q u a l i f i er  must 
be 
i ts 
surrounding  clause 
The  ordinary  meaning  of  q u a l i f i e rs  seems 
gest 
data  base  f i r s t,  and  i ts  r e s u lt  should 
used  as  the  scope  of  search  for  the  other  clauses, 
in  f a c t,  either  search  can  in  general  be  per(cid:173)
formed 

to  sug(cid:173)
that  the  q u a l i f i er  query  be  evaluated  on  the 

integrated  w i th  the  query  corresponding  to 
to  form  the  o v e r a ll  query. 

then  be 

f i r s t .* 

Notice 

that  request  can 

involve  searching 
more  than  one  r e l a t i o n,  even  if  there  are  no 
q u a l i f i e rs  or  dependent  clauses,  as 
tence: 
day  as  an  engine  maintenance?" 
r e l a t i on  for 
ances  must  both  be  searched,  and  the  r e s u l ts 
joined  with  respect  to  plane  and  date  values. 
3.10  Adding  New  Questions 

"Did  any  planes  have  a  f l i g ht  on  the  same 
In  t h is  case  the 
for  mainten(cid:173)

the  r e l a t i on 

f l i g h ts  and 

in  the  sen(cid:173)

for 

that 

including 

the  most  part 

forms,  e l l i p s i s,  d i f f e r e nt 

Extending  system  competence  w i t h in  the  model 
is  p a r t i c u l a r ly  easy  although 
it 
must  be  done  by  a  programmer.  To  add  the  a b i l i ty 
to  handle  a  new  type  of  sentence,  one  must  only 
add  a  concept  case  frame  which  expresses  that  sen(cid:173)
tence.  Variations  on  t h is  sentence, 
active  and  passive 
phrase  orderings  and  the  addition  of  noise  words 
can  a ll  be  handled  w i th  no  a d d i t i o n al  machinery, 
(or  r e l a t i o n s) 
provided 
the  proper  r e l a t i on 
is  automatically  selected  by  the 
t r a n s l a t i on 
mechanisms  discussed  above.  The  addition  can  be 
handled 
is  encountered 
concept  case 
attempt  to  handle  the  request,  and 
paraphrase 
the  paraphrase, 
concept  case  frame 
in  a  general  way  only 
reference  and  no  e l l i p s is 
were, 
incomplete. 
these  are  attached  to  the  concept  case 
t h is  process  probably  w i ll 
for 

If  a  novel  request 
( i . e.  one  which  does  not  match  any 
the  query  generator  can  s t i ll 

If  the  user  approves  of 
the  request  can  be  added  to  the 

the  concept  case  frame  generated  would  be 

l i s t.  The  request  can  be  added 

if  there  were  no  pronoun 

in  the  r e q u e s t - - if  there 

in  ordinary  user  mode. 

involve  a  programmer 

i n s t r u c t i o ns  are  necessary, 

to  the  user. 

feed  back  a 

foreseeable 

If  special 

frame  but 

frame), 

f u t u r e. 

the 

Extending  the  subnets 

is  also 

f a i r ly  easy; 

we  have  w r i t t en  a  net  editor  (described  in 
which  takes  a  phrase  and  adds  the  states  and  arcs 
to  match  t h is  phrase,  to  a  specified  subnet,  using 
a  minimum  number  of  new  arcs  and  states.  Once  a 

[20]) 

PLANES  estimates  temporary  storage  required  for 
each  query,  and  selects  the  query  with  minimum 
requirements  to  search  f i r s t.  The  storage  e s t i(cid:173)
mates  are  made  on  the  basis  of  s t a t i s t i c al  i n f o r(cid:173)
mation  stored 
for  each  f i l e.  Query  construction 
is  discussed  in  more  d e t a il 

[20]  and 

[10]. 

in 

N a t u r al  LanKuap:e-8:  W a l tz 

1U9 

new  phrasing  has  been  added  to  a  subnet's  reper(cid:173)
t o i r e, 
the  phrase  can  of  course  be  matched  in  any 
sentence  context.  To  add  a  new  phrase  in  user 
mode,  the  new  phrase  must  be  synonymous  w i th  some 
phrase  already  known  by  the  system. 

4.  Evaluation  of  the  Model 

To  our  knowledge,  no  other  model  proposed  or 

to  deal  w i th  ungrammatical 

[24])  must  be  r e s t r i c t i v e,  even  if 

implemented  attempts 
i n p u t;  any  scheme  based  on  sentence  parsing  ( e . g. 
Woods  et  a l. 
c e r t a in  ungrammatical  constructs  are  allowed 
(Woods, 
as  requests, 
phrase>.").  The  SOPHIE  system 
semantic  grammer  similar 
to  that 
thus  at 
grammatical 

for  example  allowed  single  noun  phrases 
i n t e r p r e t i ng  them  and  "Find  <noun 

[1]  uses  a 
in  PLANES,  and 
to  deal  w i th  non-

least  conceivably  able 

i n p u t. 

is 

A  number  of  other  systems  have  dealt  with 

pronoun  reference  and  e l l i p s i s, 
least)  LUNAR 
RENDEZVOUS 

[ 1 ],  SHRDLU  [ 2 2 ], 
[ 6 ],  NLPQ  1 l ],  and  LIFER  [12]. 

[ 2 4 ],  SOPHIE 

including  (at 

Much  of  the  stimulation  for  generating  our 

model  came  from  reading  Codd 
query  generator 
pressed  in  Sowa 
ideas  were  inspired  by  PARRY 

ideas  are  s i m i l ar 
[16].  Some  language  processing 

those  ex(cid:173)

to 

[ 6 ],  and  some  of  the. 

[ 7 ], 

The  amount  of  computation  required  by  the 

model 
is  r e l a t i v e ly  modest.  PLANES  t y p i c a l ly 
requires  1-4  seconds  to  parse  a  sentence  and 
generate  a  formal  r e l a t i o n al  query.  Total  pro(cid:173)
cessing  time  depends  c r i t i c a l ly  on  the  amount 
of  data  to  be  searched. 

Plans 

for 

the  near 

future 

include  extensive 

t e s t i ng  on  real  p o t e n t i al  users. 

References 
1. 

for 

(Winter  1975), 

I n t e l l i g e n ce  6,  4 

In  Bobrow,  D.  G.  and  C o l l i n s,  A. 

Brown,  J.  S.  and  Burton,  R.  R.  M u l t i p le 
representation  of  knowledge 
t u t o r i al 
reasoning. 
(ed.)  Representation  and  Understanding, 
Academic  Press,  New  York,  1975,  311-349. 
Bruce,  B.  Case  systems  for  n a t u r al  language. 
A r t i f i c i al 
327-360.  . 
Codd,  E.  F.  A  r e l a t i o n al  model  of  data  for 
larged  shared  data  banks.  Comm.  ACM  13,  6 
(June  1970),  377-387. 
Codd,  E.  F.  A  data  base  sublanguage  founded 
on  the  r e l a t i o n al  c a l c u l u s.  Proc.  ACM-
S1GFIDET  Workshop  on  Data  Description,  Access 
and  C o n t r o l,  Nov.  1971,  ACM,  New  York,  35-68. 
Codd,  E.  F.  Relational  completeness  of  data 
base  sublanguages.  Courant  Computer  Science 
Symposium  6:  Data  Base  Systems,  P r e n t i c e - H a l l, 
New  York,  1971,  33-64. 
Codd,  E.  F.  Seven  steps  to  RENDEZVOUS  w i th 
the  casual  user.  Proc. 
Conf.  on  Data  Base  Management  Systems,(April 
1974)  North-Holland  Publ.  Co.,  Amsterdam, 
1974,  179-200. 
Colby,  K.  M.,  Faught,  B.,  and  Parkison,  R. 
Pattern-matching  rules 

the  recognition  of 

IFIP  TC-2  Working 

for 

2. 

3. 

4. 

5. 

6. 

7. 

8. 

9. 

10. 

11. 

12. 

14. 

15. 

16. 

17. 

language  dialogue  expressions. 

natural 
Stanford  AI  Lab.  Memo  AIM  234,  June  1974. 
Date,  C.  J.  An  Introduction  to  Database 
Systems,  Addison-Wesley,  Reading,  MA,  1975. 
Gabriel,  R.  P.  and  Waltz,  D.  L.  Natural 
language  based  information  r e t r i e v a l.  Proc. 
12th  A l l e r t on  Conf.  on  C i r c u it  and  Sys. 
Theory,  Univ.  of  1 1 1 .,  Urbana  (Oct.  1974), 
875-884. 
Green,  F.  R. 
language  based  on  the  r e l a t i o n al  c a l c u l u s. 
t h e s i s,  Dept.  of  Computer  Science,  Univ. 
M.S. 
of  1 1 1 .,  Urbana,  Oct.  1976. 
(CSL  Rpt.  T-38). 
Heidorn,  G.  E.  Natural  language  inputs  to  a 
simulation  programming  system.  Tech.  Rpt. 
NPS-55HD72101A,  Naval  Postgraduate  School, 
Monterey,  CA.,  Oct.  1972. 
Hendrix,  G.  G.  LIFER:  A  n a t u r al  language 
i n t e r f a ce 
Tech.  Note  135,  Dec.  1976. 

Implementation  of  a  query 

f a c i l i t y.  Stanford  Res. 

I n s t. 

I d e n t i f i c a t i on  of  conceptuali(cid:173)

systems 
for  management  support:  an  analysis 
of  requirements.  4IJCAI  (Sept.1975)  842-847. 
Palermo,  F.  P.  A  data  base  search  problem. 
4th  I n t l.  Symp.  on  Computer  and  I n f o r.  Tech. 
(Dec.  1972),  Plenum  Press,  N.Y.,  1972,  67-101. 
Schank,  R.  C. 
zations  underlying  natural 
In 
Schank,  R.  C.  and  Colb,  K.  M.(ed.).  Com(cid:173)
puter  Models  of  Thought  and  Language.  Wott, 
Freeman,  San  Francisco,  CA,  1973,  187-247. 
Sowa,  J.  F.  Conceptual  graphs  for  a  data 
base  i n t e r f a c e. 
20,  No.  4,  July  1976,  336-357. 
Tenczar,  P.  J.  and  Golden,  W.  M.  S p e l l i n g, 
word,  and  concept  r e c o g n i t i o n.  Report. 
Computer-based  Education  Res.  Lab.,  Univ.  of 
1 1 1 .,  Urbana,  1972. 

IBM  J.  Res.  Develop.,  Vol. 

language. 

13.  Malhotra,  A.  Knowledge-based  English  language 

18.  Waltz,  D.  L.  Natural  language  access  to  a 
large  data  base:  an  engineering  approach. 
4IJCAI  (Sept.  1975)  868-872. 

19.  Waltz,  D.  L.  Natural  language  to  a  large 

data  base.  Naval  Research  Reviews  XXIX,  1 
(Jan.  1976),  11-25.  Reprinted  in  Computers 
and  People  25,  4  ( A p r il  1976),  19-26. 

20.  Waltz,  D.  L.,  F i n i n,  T .,  Green,  F.,  Conrad, 

F.,  Goodman,  B.,  and  Hadden,  G.  The  PLANES 
system:  n a t u r al 
language  access  to  a  large 
data  base.  Coordinated  Science  Lab.,  Univ. 
of  1 1 1 .,  Urbana,  Tech.  Rpt.  T-34  (July  1976). 

2 1.  Waltz,  D.  L.  An  English  language  question 

answering  system  for  a  large  r e l a t i o n al  data 
base. 

for  p u b l i c a t i o n .) 

(Submitted 

22.  Winograd,  T.  Understanding  Natural  Language, 

Academic  Press,  New  York,  1972. 

23.  Woods,  W.  A.  T r a n s i t i on  network  grammars 

for  n a t u r al  language  analysis.  Comm.  ACM  13, 
10  (Oct.  1970),  591-606. 

24.  Woods,  W.  A.,  Kaplan,  R.  M.,  and  Nash-Webber, 

B.  The 
system: 
Beranek  and  Newman, 
1972. 

lunar  sciences  n a t u r al 
f i n al  r e p o r t.  Report  No.  2378,  Bolt 

language 

I n c .,  Cambridge,  MA. 

Natural  Languag.e-8:  Waltz 

150 

